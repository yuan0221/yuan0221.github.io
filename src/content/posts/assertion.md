---
title: "正则的断言是什么"
description: ""
pubDate: "Sep 09 2024"
categories: ["前端"]
---

## 唠一唠
万事开头难，开始行动最难，前段时间在工作中遇到个正则的问题，项目中写了个前瞻断言，在 safira 上不兼容的问题，处理了之后一直想着写一篇博客总结记录一下，一直没开始，现在开始吧。

## 什么是断言
断言指的是对匹配到字符串的位置有要求，比如使用 `\d{6}` 能匹配到 `123456`, 也能匹配到 `123456789`，那如果我要匹配到只能是6位数字呢，那就要用到断言了，正则的断言分为单词边界，行的开始和结束，环视。具体什么意思呢。

## 单词边界
比方说我要将 `tom asked me if I would go fishing with him tomorrow.` 中的 `tom` 替换为 `jerry`，如果使用 `tom`，那 `tomorrow` 中包含的 `tom` 也会被替换，怎么办呢？需要使用 `\btom\b`, `\b` 表示非单词的部分，`b` 是 Boundary 的意思，边界，不是单词的部分就是单词的边界，点[在线示例](https://regex101.com/r/ZM0SlT/1)查看。

## 行的开始和结束
举个例子，如果要匹配六位数 `123456`， 使用 `\d{6}` 能匹配到，但也能匹配到 `1234567`，那就可以使用 `^\d{6}$`, 表示6位数字开始，6位数字结尾。据说在应用打印日志开始行时有应用。

## 环视
环视理解为环顾左右，左看右看，意思是找到匹配的部分，并且左右两边的部分还要符合特定规则。瞻前顾后，因此有前瞻断言，后瞻断言，负前瞻断言，负后瞻断言；还有什么肯定逆序环视，否定逆序环视，肯定顺序环视，否定顺序环视；这些语言，只要理解了意思会应用就行。

- 前瞻断言 `(?<=A)` 左边是 `A`
- 负前瞻断言 `(?<!A)` 左边不是 `A`
- 后瞻断言 `(?=A)` 右边是 `A`
- 负后瞻断言 `(?!A)` 右边不是 `A`

回过头看单词边界解决的问题，环视其实也能解决，`\b` 表示非单词的部分，即非 `\w` 的部分，即用 `(?<!\w)tom(?!\w)` 能仅匹配到 `tom`。

